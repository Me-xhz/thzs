<<<<<<< HEAD
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"355f":function(t,e,n){"use strict";n.r(e);var o=n("d234"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=i.a},7099:function(t,e,n){"use strict";n.r(e);var o=n("97ca"),i=n("355f");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("99d7");var a=n("2877"),s=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"097f3dc0",null);e["default"]=s.exports},"97ca":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},"99d7":function(t,e,n){"use strict";var o=n("bb04"),i=n.n(o);i.a},bb04:function(t,e,n){},bcc9:function(t,e,n){"use strict";(function(t){n("fae8"),n("921b");o(n("66fd"));var e=o(n("7099"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},d234:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=n("bd7b");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return{infoRes:{},imgUrl:this.$URL.iconURL,title:"login",providerList:[],hasProvider:!1,positionTop:0,psk:"",Ras:""}},onLoad:function(){i=this,this.initPosition(),this.initProvider()},methods:{getUserInfo:function(){var e=this;this.$http.getUserInfo().then(function(n){console.log(t("用户信息",n," at pages\\login\\login.vue:58")),1==n.data.result.has_express||0==n.data.result.has_express?i.$http.getExpressUserInfo().then(function(e){console.log(t("物流信息",e," at pages\\login\\login.vue:62")),i.$tool.setStorageSync("pickup",e.data.result),i.$tool.setStorageSync("oldToken",i.$tool.getTokenStorage()),(0,r.setTokenStorage)(e.data.result.token),i.$tool.setStorageSync("isLogin",!0),o.hideLoading(),o.reLaunch({url:"../index/index"})}):(o.hideLoading(),e.$common.toast("暂无权限登录"))})},onGotUserInfo:function(t){t.detail.rawData?(this.oauth("weixin"),this.$tool.setStorageSync("userInfo",t.detail.rawData)):o.showToast({title:"登录将体验更多功能",icon:"none"})},applogin:function(e){i.$http.appLogin(e).then(function(e){(0,r.setTokenStorage)(e.data.result.token),console.log(t(e," at pages\\login\\login.vue:96")),i.getUserInfo()}).catch(function(e){console.log(t(e," at pages\\login\\login.vue:99"))})},goLogin:function(e){this.$http.getToken(e).then(function(n){if(0==n.data.result.status)(0,r.setTokenStorage)(n.data.result.token),i.getUserInfo();else if(1==n.data.result.status){var o=a({oauthCode:e.code,encrypted_data:i.infoRes.encrypted_data,iv:i.infoRes.iv,signature:i.infoRes.signature,unionid:n.data.result.unionid},e);i.$http.thirdLogin(o).then(function(t){(0,r.setTokenStorage)(t.data.result.token),i.getUserInfo()})}else 2==n.result.status&&(console.log(t(n.data.result.token," at pages\\login\\login.vue:125")),(0,r.setTokenStorage)(n.data.result.token),i.getUserInfo())}).catch(function(e){console.log(t(e," at pages\\login\\login.vue:131"))})},initPosition:function(){this.positionTop=o.getSystemInfoSync().windowHeight-200},initProvider:function(){var e=this,n=["weixin"];o.getProvider({service:"oauth",success:function(t){if(t.provider&&t.provider.length){for(var o=0;o<t.provider.length;o++)~n.indexOf(t.provider[o])&&e.providerList.push({value:t.provider[o],image:"../../static/img/"+t.provider[o]+".png"});e.hasProvider=!0}},fail:function(e){console.error(t("获取服务供应商失败："+JSON.stringify(e)," at pages\\login\\login.vue:159"))}})},oauth:function(e){o.login({provider:e,success:function(t){o.getUserInfo({provider:e,success:function(e){i.infoRes=a({oauthCode:t.code,suffix:"wx",iv:e.iv,encrypted_data:e.encryptedData,signature:e.signature},e.userInfo);var n=e.userInfo;o.showLoading({title:"登录中，请稍等",mask:!0}),n.oauth="app",i.applogin(n)}})},fail:function(e){console.error(t("授权登录失败："+JSON.stringify(e)," at pages\\login\\login.vue:203"))}})}}};e.default=u}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["bcc9","common/runtime","common/vendor"]]]);
=======
(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"14cf":function(t,e,n){"use strict";n.r(e);var o=n("a7c7"),i=n("5f51");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("c17b");var a=n("2877"),s=Object(a["a"])(i["default"],o["a"],o["b"],!1,null,"390a9050",null);e["default"]=s.exports},"5f51":function(t,e,n){"use strict";n.r(e);var o=n("add7"),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e["default"]=i.a},a7c7:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i})},add7:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=n("6484");function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){s(t,e,n[e])})}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return{infoRes:{},imgUrl:this.$URL.iconURL,title:"login",providerList:[],hasProvider:!1,positionTop:0,psk:"",Ras:""}},onLoad:function(){i=this,this.initPosition(),this.initProvider()},methods:{getUserInfo:function(){var e=this;this.$http.getUserInfo().then(function(n){console.log(t("用户信息",n," at pages\\login\\login.vue:58")),1==n.data.result.has_express?i.$http.getExpressUserInfo().then(function(e){console.log(t("物流信息",e," at pages\\login\\login.vue:62")),i.$tool.setStorageSync("pickup",e.data.result),i.$tool.setStorageSync("oldToken",i.$tool.getTokenStorage()),(0,r.setTokenStorage)(e.data.result.token),i.$tool.setStorageSync("isLogin",!0),o.hideLoading(),o.reLaunch({url:"../index/index"})}):(o.hideLoading(),e.$common.toast("暂无权限登录"))})},onGotUserInfo:function(t){t.detail.rawData?(this.oauth("weixin"),this.$tool.setStorageSync("userInfo",t.detail.rawData)):o.showToast({title:"登录将体验更多功能",icon:"none"})},applogin:function(e){i.$http.appLogin(e).then(function(t){(0,r.setTokenStorage)(t.data.result.token),i.getUserInfo()}).catch(function(e){console.log(t(e," at pages\\login\\login.vue:98"))})},goLogin:function(e){this.$http.getToken(e).then(function(n){if(0==n.data.result.status)(0,r.setTokenStorage)(n.data.result.token),i.getUserInfo();else if(1==n.data.result.status){var o=a({oauthCode:e.code,encrypted_data:i.infoRes.encrypted_data,iv:i.infoRes.iv,signature:i.infoRes.signature,unionid:n.data.result.unionid},e);i.$http.thirdLogin(o).then(function(t){(0,r.setTokenStorage)(t.data.result.token),i.getUserInfo()})}else 2==n.result.status&&(console.log(t(n.data.result.token," at pages\\login\\login.vue:124")),(0,r.setTokenStorage)(n.data.result.token),i.getUserInfo())}).catch(function(e){console.log(t(e," at pages\\login\\login.vue:130"))})},initPosition:function(){this.positionTop=o.getSystemInfoSync().windowHeight-200},initProvider:function(){var e=this,n=["weixin"];o.getProvider({service:"oauth",success:function(t){if(t.provider&&t.provider.length){for(var o=0;o<t.provider.length;o++)~n.indexOf(t.provider[o])&&e.providerList.push({value:t.provider[o],image:"../../static/img/"+t.provider[o]+".png"});e.hasProvider=!0}},fail:function(e){console.error(t("获取服务供应商失败："+JSON.stringify(e)," at pages\\login\\login.vue:158"))}})},oauth:function(e){o.login({provider:e,success:function(t){o.getUserInfo({provider:e,success:function(e){i.infoRes=a({oauthCode:t.code,suffix:"wx",iv:e.iv,encrypted_data:e.encryptedData,signature:e.signature},e.userInfo);var n=e.userInfo;o.showLoading({title:"登录中，请稍等",mask:!0}),n.oauth="app",i.applogin(n)}})},fail:function(e){console.error(t("授权登录失败："+JSON.stringify(e)," at pages\\login\\login.vue:202"))}})}}};e.default=u}).call(this,n("0de9")["default"],n("6e42")["default"])},c118:function(t,e,n){},c17b:function(t,e,n){"use strict";var o=n("c118"),i=n.n(o);i.a}},[["23ca","common/runtime","common/vendor"]]]);
>>>>>>> 4fc0aa52b24c17713d2d8771be5ce75eaac65d72
